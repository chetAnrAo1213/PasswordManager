<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Password Manager - Admin</title>
   <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
   
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<style>
.navbar {
	background-color: #0b2c3d !important;
	color: #b69a53 !important;
}

.navbar a {
	color: #b69a53 !important;
}

.navbar a:hover {
	color: #fff !important;
}

html {
	scrollbar-width: thin;
	scrollbar-color: #0b2c3d #b69a53 !important;
}

body::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

.main
{
   background-color: #000 !important;
   color:#fff !important;
}

.stat-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    cursor: pointer;
}

.stat-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
}

.progress {
    height: 8px;
}

.trend-badge {
    position: absolute;
    top: 20px;
    right: 20px;
}

.stat-icon {
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 12px;
}

</style>
<body class="main">

    
    <nav th:replace="~{/Admin/navBar}"></nav>

   <div class="container py-4">
    <!-- Header -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h4 class="mb-0">Dashboard Overview</h4>
    </div>

    <!-- Statistics Cards -->
    <div class="row g-4">
        <!-- Sales Card -->
        <div class="col-12 col-md-6 col-lg-3" >
            <div class="card stat-card border-0 shadow-sm" style="background-color:#343434;color:#F8F8FF;">
                <div class="card-body" >
                    <div class="d-flex align-items-center mb-3">
                        <div class="stat-icon bg-danger bg-opacity-10 text-danger">
                            <i class="fas fa-user-cog"></i>
                        </div>
                    </div>
                    <h6 class="text-light mb-2 ">Authentication & Authorization Module</h6>
                    <h4 class="mb-3"><span th:text="${(session.registrations ?: 0) + (session.questions ?: 0) + 
                 (session.logins ?: 0)}"></span></h4>
                </div>
            </div>
        </div>

        <!-- Users Card -->
        <div class="col-12 col-md-6 col-lg-3">
            <div class="card stat-card border-0 shadow-sm" style="background-color:#343434;color:#F8F8FF;">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <div class="stat-icon bg-success bg-opacity-10 text-success"><i class="fas fa-users"></i></div>
                    </div>
                    <h6 class="text-light mb-2">Total Users Passwords in User Module</h6>
                    <h4 class="mb-3"><span th:text="${session.passwords}"></span> </h4>
                    
                </div>
            </div>
        </div>

        <!-- Orders Card -->
        <div class="col-12 col-md-6 col-lg-3">
            <div class="card stat-card border-0 shadow-sm" style="background-color:#343434;color:#F8F8FF;">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <div class="stat-icon bg-warning bg-opacity-10 text-warning"><i class="fas fa-box"></i></div>
                    </div>
                    
                    <h6 class="text-light mb-2">Total Features And API Usage In User Module</h6>
                    <h4 class="mb-3"><span th:text="${ (session.notes ?: 0)  + (session.apiRequests ?: 0)}"></span> </h4>

                </div>
            </div>
        </div>


        <!-- Revenue Card -->
        <div class="col-12 col-md-6 col-lg-3">
            <div class="card stat-card border-0 shadow-sm" style="background-color:#343434;color:#F8F8FF;">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <div class="stat-icon bg-info bg-opacity-10 text-info"><i class="fas fa-key"></i></div>
                    </div>
                    <h6 class="text-light mb-2">Total No.Of Count In User Module</h6>
                    <h4 class="mb-3"><span th:text="${(session.registrations ?: 0) + (session.questions ?: 0) + 
                 (session.logins ?: 0) + (session.notes ?: 0) +  (session.passwords ?: 0) + (session.apiRequests ?: 0)}"></span></h4>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row mt-4">
    <div class="col-12" style="background-color:#343434;color:#F8F8FF;">
        <div class="card border-0 shadow-sm" >
            <div class="card-body" style="background-color:#343434;color:#F8F8FF;">
                <div class="d-flex justify-content-between align-items-center mb-4">
                   <h5 class="">Tables Present In The DataBase : 8</h5>
                </div>
                <hr>
                <div class="row" >
                    <div class="col-md-6" >
                        <div class="list-group list-group-flush" >
                            <div class="list-group-item border-0 d-flex align-items-center px-0" style="background-color:#343434;color:#F8F8FF;">
                                <div class="flex-grow-1 border-right">
                                    <h6 class="mb-1 ">1) Registration Table  <span class="text-info small me-1"> <i class="fas fa-info-circle me-1"></i>User</span></h6>
                                    <small class="text-light">Table Name : user_registration_details</small>
                                </div>
                            </div>
                            <div class="list-group-item border-0 d-flex align-items-center px-0" style="background-color:#343434;color:#F8F8FF;">
                                <div class="flex-grow-1 border-right">
                                    <h6 class="mb-1">2) User Security Questions <span class="text-info small me-1"> <i class="fas fa-info-circle me-1"></i>User</span></h6>
                                    <small class="text-light">Table Name : user_registration_questions</small>
                                </div>
                            </div>
                            <div class="list-group-item border-0 d-flex align-items-center px-0" style="background-color:#343434;color:#F8F8FF;">
                                <div class="flex-grow-1 border-right">
                                    <h6 class="mb-1">3) User Login Table <span class="text-info small me-1"> <i class="fas fa-info-circle me-1"></i>User</span></h6>
                                    <small class="text-light">Table Name : user_login_credentials</small>
                                </div>
                            </div>
                            <div class="list-group-item border-0 d-flex align-items-center px-0" style="background-color:#343434;color:#F8F8FF;">
                                <div class="flex-grow-1 border-right">
                                    <h6 class="mb-1">4) Passwords Table <span class="text-info small me-1"> <i class="fas fa-info-circle me-1"></i>User</span></h6>
                                    <small class="text-light">Table Name : user_passwords</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6" >
                        <div class="list-group list-group-flush">
                            <div class="list-group-item border-0 d-flex align-items-center px-0" style="background-color:#343434;color:#F8F8FF;">
                                <div class="flex-grow-1">
                                    <h6 class="mb-1">5) API Table <span class="text-info small me-1"> <i class="fas fa-info-circle me-1"></i>User</span></h6>
                                    <small class="text-light">Table Name : api_requests_user</small>
                                </div>
                            </div>
                            <div class="list-group-item border-0 d-flex align-items-center px-0" style="background-color:#343434;color:#F8F8FF;">
                                <div class="flex-grow-1">
                                    <h6 class="mb-1">6) Note Table <span class="text-info small me-1"> <i class="fas fa-info-circle me-1"></i>User</span></h6>
                                    <small class="text-light">Table Name : quick_note</small>
                                </div>
                            </div>
                            <div class="list-group-item border-0 d-flex align-items-center px-0" style="background-color:#343434;color:#F8F8FF;">
                                <div class="flex-grow-1">
                                    <h6 class="mb-1">7) Admin Registration <span class="text-primary small me-1"> <i class="fas fa-exclamation-triangle me-1"></i>Admin</span></h6>
                                    <small class="text-light">Table Name : admin_registration_details</small>
                                </div>
                            </div>
                            <div class="list-group-item border-0 d-flex align-items-center px-0" style="background-color:#343434;color:#F8F8FF;">
                                <div class="flex-grow-1">
                                    <h6 class="mb-1">8) Admin Login <span class="text-primary small me-1"> <i class="fas fa-exclamation-triangle me-1"></i>Admin</span></h6>
                                    <small class="text-light">Table Name : admin_login_details</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div> <!-- row end -->
            </div>
        </div>
    </div>
</div>

    
</div>
			<div class="container">
				<section class="bsb-service-7 py-5 py-xl-8 bg-transparent">
					<div class="container">
						<div class="row justify-content-md-center">
							<div class="col-12 col-md-10 col-lg-8 col-xl-7">
								<h3 class="fs-5 mb-2 text-light text-center text-uppercase">User's Module Visual Report</h3>
							</div>
						</div>
					</div>

					<div class="container">
						<div class="row">
							<div class="col-19">
								<div class="container-fluid bg-dark ">
									<div class="row">
										<div class="col-12 col-md-6 p-0">
											<div class="card border-0 bg-transparent">
												<div class="card-body text-center p-5 border-right">
													<p class="text-dark bg-light">
													<h6 class="text-light">Bar Chart</h6>
														<canvas id="LineForCount"
															style="height: 120px; width: 100%; padding:10px;"></canvas>
													</p>

												</div>
											</div>
										</div>
										<div class="col-12 col-md-6 p-0">
											<div class="card border-0 bg-transparent">
											
												<div class="card-body text-center p-5">
													<p class="text-dark bg-light">
													<h6 class="text-light">Polar Area Chart</h6>
														<canvas id="BarForCount"
															style="height: 120px; width: 100%; padding:10px;"></canvas>
													</p>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</section>


			</div>
	
	

				  
<script th:inline="javascript">
	var registrations = /*[[${session.registrations != null ? session.registrations : 0}]]*/0;
	var questions = /*[[${session.questions != null ? session.questions : 0}]]*/0;
	var logins = /*[[${session.logins != null ? session.logins : 0}]]*/0;
	var notes = /*[[${session.notes != null ? session.notes : 0}]]*/0;
	var passwords = /*[[${session.passwords != null ? session.passwords : 0}]]*/0;
	var apiRequests = /*[[${session.apiRequests != null ? session.apiRequests : 0}]]*/0;

	document.addEventListener("DOMContentLoaded", function() {

		const ctx = document.getElementById('LineForCount').getContext('2d');

		new Chart(ctx,
				{
					type : 'bar',
					data : {
						labels : [  'Registrations', 'Questions',
									'Logins', 'Notes',
									'Passwords', 'Total API calls' ],
						datasets : 
						[{
							label : 'Records Count',
							data : [ registrations, questions, logins, notes, passwords, apiRequests ],
							backgroundColor : [ 
							     				'rgba(255, 159, 64, 0.2)',
							     				'rgba(255, 99, 132, 0.2)',
							      				'rgba(255, 205, 86, 0.2)',
							      				'rgba(75, 192, 192, 0.2)',
							      				
							      				'rgba(153, 102, 255, 0.2)',
							      				'rgba(54, 162, 235, 0.2)'],
							      				
							borderColor : 	  [ 
							      				'rgb(255, 159, 64)',
							      				'rgb(255, 99, 132)',
							      				'rgb(255, 205, 86)',
							      				'rgb(75, 192, 192)',
							      				
							      				'rgb(153, 102, 255)',
							      				'rgb(54, 162, 235)'],
							borderWidth : 1
						}]
					},
					options : {
						responsive : true,
						maintainAspectRatio : true,
						aspectRatio : 1,
						scales : {
							y : {
								beginAtZero : true,
								suggestedMin : 0,
								suggestedMax : Math.max(registrations, questions, logins, notes, passwords, apiRequests) + 5
							}
						}
					}

				});
		const bar = document.getElementById('BarForCount').getContext('2d');

		new Chart(bar,
				{
					type : 'polarArea',
					data : {
						labels : [ 'Registrations', 'Questions',
								'Logins', 'Notes',
								'Passwords', 'Total API calls' ],
						datasets : [ {
							label : 'Records Count',
							data : [ registrations, questions, logins, notes,
									passwords, apiRequests ],
									backgroundColor : [ 
					     				'rgba(255, 159, 64, 0.2)',
					     				'rgba(255, 99, 132, 0.2)',
					      				'rgba(255, 205, 86, 0.2)',
					      				'rgba(75, 192, 192, 0.2)',
					      				
					      				'rgba(153, 102, 255, 0.2)',
					      				'rgba(54, 162, 235, 0.2)'],
					      				
					borderColor : 	  [ 
					      				'rgb(255, 159, 64)',
					      				'rgb(255, 99, 132)',
					      				'rgb(255, 205, 86)',
					      				'rgb(75, 192, 192)',
					      				
					      				'rgb(153, 102, 255)',
					      				'rgb(54, 162, 235)'],
							borderWidth : 1
						} ]
					},
					options : {
						responsive : true,
						maintainAspectRatio : true,
						aspectRatio : 1,
						scales : {
							y : {
								beginAtZero : true,
								suggestedMin : 0,
								suggestedMax : Math.max(registrations,
										questions, logins, notes, passwords,
										apiRequests) + 5
							}
						}
					}

				});


	});
</script>
</body>
<footer th:replace="~{footer}"></footer>
</html>
